<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

<!-- jQuery -->
<script src="bootstrap/js/jquery.js"></script>
<!-- Bootstrap Core CSS -->
<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
<!-- Bootstrap Core JavaScript -->
<script src="bootstrap/js/bootstrap.min.js"></script>

<!-- jQuery -->
<script src="bootstrap/js/jquery.js"></script>

<!-- Custom CSS -->
<link href="css/homepage.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
<script>
	var stage;
	var div;
	var righe = 5;
	var colonne = 20;
	var image;
	var container = new createjs.Container();

	window.addEventListener('resize', resize, false);

	function tick() {
		stage.update();
	}

	function resize() {
		div = document.getElementById("prova");
		console.log(div.clientWidth);
		stage.canvas.width = div.clientWidth;
		stage.canvas.height = righe * (div.clientWidth / colonne);
	}

	function init() {
		stage = new createjs.Stage("myCanvas");
		stage.enableMouseOver(10);

		resize();
		image = new Image();
		image.src = "media/umbrella.png";
		image.onload = handleImageLoad;
	}

	function handleImageLoad(event) {
		image = event.target;
		var bitmap;
		var count = colonne * righe;
		var label1;

		for (i = 0; i < righe; i++) {
			for (j = colonne; j > 0; j--) {
				bitmap = new createjs.Bitmap(image);
				bitmap.scaleX = ((div.clientWidth / colonne) / 100);
				bitmap.scaleY = ((div.clientWidth / colonne) / 100);
				bitmap.x = (j - 1) * (div.clientWidth / colonne);
				bitmap.y = i * (div.clientWidth / colonne);
				label1 = new createjs.Text("" + count, "21px Arial", "#000000");
				label1.x = (j - 1) * (div.clientWidth / colonne) + 5;
				label1.y = i * (div.clientWidth / colonne) + 20;
				bitmap.name = count;
				count--;


				bitmap.on("click", clickEvent);
				bitmap.on("mouseover", handleInteraction);
				bitmap.on("mouseout", handleInteraction);

				container.addChild(bitmap);
			/*
			console.log(bitmap.getBounds());
			console.log(bitmap.name);
			console.log(bitmap.x + "-" + bitmap.y);
			console.log(bitmap.width + " width")
			*/
			}
		}
		stage.addChild(container);
		stage.update();
		createjs.Ticker.addEventListener("tick", stage);

	}

	function clickEvent(event) {
		apri2();

	}


	function handleInteraction(event) {
		event.target.alpha = (event.type == "mouseover") ? 0.5 : 1;

		event.target.scaleX = (event.type == "mouseover") ? (event.target.scaleX + 0.1) : (event.target.scaleX - 0.1);
		event.target.scaleY = (event.type == "mouseover") ? (event.target.scaleY + 0.1) : (event.target.scaleY - 0.1);
	}


	function apri() {
		$('.overlay').fadeIn("fast");
	}
	function apri2() {
		$('#myModal').modal('toggle');             
	}


	function chiudi() {
		$('.overlay').fadeOut("fast");
	}
</script>


</head>
<body onload="init()">
	<!-- Navigation -->
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Start Bootstrap</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse"
				id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
					<li><a href="#">About</a></li>
					<li><a href="#">Services</a></li>
					<li><a href="#">Contact</a></li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container -->
	</nav>


	<!-- Page Content -->
	

			<div id="prova">
				<canvas id="myCanvas"></canvas>
			</div>
			<div class="overlay" style="display: none">
				<div id=box>
					<h1 id="chiudi" onclick="chiudi()" style="border-top: 100px">chiudi
					</h1>
				</div>
			</div>
		
		<!-- Modal -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<h4 class="modal-title" id="myModalLabel">Modal title</h4>
					</div>
					<div class="modal-body">...</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary">Save
							changes</button>
					</div>
				</div>
			</div>
		</div>


	<!-- /.row -->


	<!-- Footer -->
	<footer>
		<div >
			<div >
				<p>Copyright &copy; Your Website 2014</p>
			</div>
		</div>
		<!-- /.row -->
	</footer>

	<!-- /.container -->

<div class="overlay" id="overlay" style="display:none;"></div>
<div id="box">
<h1 class="titolo_box">Questo e' un overlay</h1>
        <p class="testo-box">Testo dell'overlay qui</p>
                <p class="testo-box">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</p>
                <hr />
        <p class="chiudi">X</p>
</div>  <!--fine box-->

<div class="apri"> >> APRI L'OVERLAY</div>


</body>
</html>